import{j as e}from"./vendor-motion-BOFb5L5T.js";import{r as n,L as b}from"./vendor-react-DPXIlxAS.js";import{c as h,S as y,B as P,A as k,g as T}from"./index-DrV42QqX.js";import{R as C,T as A,a as M,b as S}from"./vendor-ui-B534AxuN.js";import{u as z}from"./vendor-i18n-ClLKQ7LB.js";function $({className:l,defaultValue:c,value:i,min:d=0,max:o=100,...x}){const g=n.useMemo(()=>Array.isArray(i)?i:Array.isArray(c)?c:[d,o],[i,c,d,o]);return e.jsxs(C,{"data-slot":"slider",defaultValue:c,value:i,min:d,max:o,className:h("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",l),...x,children:[e.jsx(A,{"data-slot":"slider-track",className:h("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(M,{"data-slot":"slider-range",className:h("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:g.length},(f,t)=>e.jsx(S,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}const I=()=>{const[l,c]=n.useState("tous"),[i,d]=n.useState([]),[o,x]=n.useState([0,1e4]),[g,f]=n.useState(1e4),{t,i18n:m}=z();n.useEffect(()=>{fetch("/api/products").then(s=>s.json()).then(s=>{d(s);const r=Math.max(...s.map(u=>u.regularPrice||0)),a=r>0?r:1e4;f(a),x([0,a])}).catch(s=>{console.error("Failed to load products:",s)})},[]);const p=n.useMemo(()=>{const s=new Set;return i.forEach(a=>{a.category?.name&&s.add(a.category.name.trim())}),Array.from(s).map(a=>({id:a.toLowerCase().replace(/[\s&]+/g,"-"),name:a.toUpperCase()}))},[i]),j=n.useMemo(()=>[{id:"tous",name:"TOUS"},...p],[p]),N=s=>i.filter(r=>{const a=r.category?.name?.trim().toLowerCase()===s.toLowerCase(),u=r.regularPrice||0,v=u>=o[0]&&u<=o[1];return a&&v}),w=s=>s.length===0?e.jsx("p",{className:"text-muted-foreground py-8",children:t("productsPage.empty")}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 gap-x-4 gap-y-8",children:s.map(r=>e.jsxs(b,{to:`/produits/${T(r.name)}`,className:"group cursor-pointer flex flex-col",children:[e.jsx("div",{className:"relative overflow-hidden rounded-none aspect-[4/5] mb-4 bg-secondary flex items-center justify-center",children:e.jsx("img",{src:r.images||"https://images.unsplash.com/photo-1600585154363-67eb9e2e2099?w=300&q=80",alt:r.name,loading:"lazy",decoding:"async",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:a=>{a.target.src="https://images.unsplash.com/photo-1552321554-5fefe8c9ef14?w=300&q=80"}})}),e.jsx("h3",{className:"text-sm font-medium font-sans text-foreground tracking-wide",children:r.name}),r.regularPrice!==null&&!1]},r.id))});return e.jsxs("div",{dir:m.language==="ar"?"rtl":"ltr",children:[e.jsx(y,{title:`${t("productsPage.title1")} ${t("productsPage.title2")} | Moussa Marbre`,description:"Consultez notre catalogue complet de marbre, granit et pierre naturelle. Choisissez parmi plus de 30 variétés pour tous vos projets d'aménagement intérieur et extérieur au Maroc.",keywords:"catalogue marbre, prix granit maroc, pierre naturelle construction, Moussa Marbre Taza",url:"https://moussamarbre.com/#/produits"}),e.jsx("section",{className:"pt-[12rem] pb-24 bg-background",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-px bg-black/60"}),e.jsx("span",{className:"text-xs font-medium text-black/60 uppercase tracking-widest",children:t("productsPage.tag")})]}),e.jsxs("h1",{className:"font-sans text-5xl sm:text-6xl text-foreground leading-[1.1] tracking-tight mb-8",children:[t("productsPage.title1"),e.jsx("span",{className:"italic font-serif text-muted-foreground",children:t("productsPage.title2")})]}),e.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl",children:t("productsPage.desc")})]})}),e.jsx("section",{className:"py-6 pt-11 bg-background border-b border-border sticky top-20 z-30",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsx("div",{className:"flex items-center flex-1 gap-6 overflow-x-auto scrollbar-hide",children:j.map(s=>e.jsx("button",{onClick:()=>c(s.id),className:`pb-2 text-xs uppercase tracking-widest whitespace-nowrap transition-colors border-b-2 ${l===s.id?"border-primary text-foreground font-semibold":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:s.id==="tous"?t("productsPage.all"):s.name},s.id))}),e.jsxs("div",{className:`flex items-center gap-4 min-w-[300px] ${m.language==="ar"?"flex-row-reverse":""}`,children:[e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-widest whitespace-nowrap",children:t("productsPage.price")}),e.jsx($,{value:o,min:0,max:g,step:50,onValueChange:x,className:`w-full ${m.language==="ar"?"rotate-180":""}`}),e.jsxs("span",{className:"text-xs font-medium text-foreground whitespace-nowrap min-w-[80px] text-right",dir:"ltr",children:[o[0]," - ",o[1]]})]})]})})}),e.jsx("section",{className:"py-24 bg-background",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.map(s=>{if(!(l==="tous"||l===s.id))return null;const a=N(s.name);return e.jsxs("div",{className:"mb-24",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-px bg-black/60"}),e.jsxs("span",{className:"text-xs font-medium text-black/60 uppercase tracking-widest",children:[a.length," ",t("productsPage.productCount")]})]}),e.jsx("h2",{className:"font-sans text-3xl sm:text-4xl text-foreground mb-8 capitalize",children:s.name.toLowerCase()}),w(a)]},s.id)})})}),e.jsx("section",{className:"py-32 bg-secondary",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-24",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-px bg-border"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-widest",children:t("productsPage.processTag")}),e.jsx("div",{className:"w-8 h-px bg-border"})]}),e.jsxs("h2",{className:"font-serif text-4xl sm:text-5xl text-foreground leading-[1.1] tracking-tight",children:[t("productsPage.processTitle1"),e.jsx("span",{className:"italic text-muted-foreground",children:t("productsPage.processTitle2")}),t("productsPage.processTitle3"),e.jsx("span",{className:"italic text-muted-foreground",children:t("productsPage.processTitle4")})]})]}),e.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:[{step:"1"},{step:"2"},{step:"3"},{step:"4"}].map((s,r)=>e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-serif text-5xl text-muted-foreground mb-6",children:["0",s.step]}),e.jsx("h3",{className:"font-serif text-2xl text-foreground mb-3",children:t(`productsPage.processItems.${s.step}.title`)}),e.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:t(`productsPage.processItems.${s.step}.desc`)})]},r))})]})}),e.jsx("section",{className:"py-32 bg-foreground text-background",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"font-serif text-4xl sm:text-5xl text-background leading-[1.1] tracking-tight mb-8",children:t("productsPage.ctaTitle")}),e.jsx("p",{className:"text-background/70 text-lg leading-relaxed mb-12",children:t("productsPage.ctaDesc")}),e.jsx(b,{to:"/contact",children:e.jsxs(P,{className:"bg-background hover:bg-background/90 text-foreground rounded-none px-8 py-6 text-xs uppercase tracking-widest",children:[t("productsPage.ctaBtn"),e.jsx(k,{className:`w-5 h-5 ${m.language==="ar"?"mr-2 rotate-180":"ml-2"}`})]})})]})})]})};export{I as default};
