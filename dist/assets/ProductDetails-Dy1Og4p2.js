import{j as e}from"./vendor-motion-BOFb5L5T.js";import{f as v,r as i,L as p}from"./vendor-react-DPXIlxAS.js";import{L as w,B as x,S as y,a as P,M as $}from"./index-DrV42QqX.js";import{L as m,I as g,T as k}from"./label-C5QDBO-K.js";import{u as D}from"./vendor-i18n-ClLKQ7LB.js";import"./vendor-ui-B534AxuN.js";const q=()=>{const{name:n}=v(),[r,u]=i.useState(null),[h,c]=i.useState(!0),{t:a,i18n:o}=D(),[t,d]=i.useState({clientName:"",clientPhone:"",message:""});i.useEffect(()=>{n&&(c(!0),fetch(`/api/products/${n}`).then(s=>s.json()).then(s=>{s.error?u(null):u(s),c(!1)}).catch(s=>{console.error("Failed to load product details:",s),c(!1)}))},[n]);const f=s=>{if(s.preventDefault(),!r)return;const b="212661829455";let l=`${a("productDetail.whatsappGreeting")}: *${r.name}*

`;l+=`*${a("productDetail.whatsappName")}:* ${t.clientName}
`,l+=`*${a("productDetail.whatsappPhone")}:* ${t.clientPhone}
`,t.message.trim()&&(l+=`*${a("productDetail.whatsappMessage")}:* ${t.message}
`);const j=encodeURIComponent(l),N=`https://wa.me/${b}?text=${j}`;window.open(N,"_blank")};return h?e.jsx("div",{className:"min-h-screen pt-32 flex justify-center items-center bg-background",children:e.jsx(w,{className:"w-8 h-8 animate-spin text-foreground/50"})}):r?e.jsxs("div",{dir:o.language==="ar"?"rtl":"ltr",className:"bg-background min-h-screen pt-[12rem] pb-24",children:[e.jsx(y,{title:`${r.name} | Catalogue Moussa Marbre`,description:`Découvrez le ${r.name} par Moussa Marbre. Idéal pour vos revêtements de sol, murs, escaliers ou façades. Qualité premium au Maroc.`,keywords:`${r.name} prix, acheter ${r.name} maroc, ${r.name} taza, pierre naturelle`,url:`https://moussamarbre.com/#/produits/${n}`,image:r.images||void 0,structuredData:{"@context":"https://schema.org/","@type":"Product",name:r.name,image:r.images?[r.images]:[],description:`Matériau en ${r.category?.name||"pierre"} naturel.`,brand:{"@type":"Brand",name:"Moussa Marbre"},...r.regularPrice?{offers:{"@type":"Offer",url:`https://moussamarbre.com/#/produits/${n}`,priceCurrency:"MAD",price:r.regularPrice,itemCondition:"https://schema.org/NewCondition",availability:"https://schema.org/InStock"}}:{}}}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs(p,{to:"/produits",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors mb-8 group uppercase tracking-widest",children:[e.jsx(P,{className:`w-4 h-4 transition-transform ${o.language==="ar"?"rotate-180 group-hover:translate-x-1":"group-hover:-translate-x-1"}`}),a("navbar.products")||"Back"]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-24",children:[e.jsx("div",{className:"bg-secondary p-8 md:p-16 flex items-center justify-center border border-border/50",children:e.jsx("img",{src:r.images||"https://images.unsplash.com/photo-1600585154363-67eb9e2e2099?w=300&q=80",alt:r.name,decoding:"async",className:"w-full h-auto object-cover max-h-[60vh] shadow-xl",onError:s=>{s.target.src="https://images.unsplash.com/photo-1552321554-5fefe8c9ef14?w=300&q=80"}})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground uppercase tracking-widest mb-4",children:e.jsx("span",{className:"font-medium text-black/60",children:r.category?.name||"Général"})}),e.jsx("h1",{className:"font-sans text-4xl sm:text-5xl text-foreground font-medium mb-6 leading-tight",children:r.name}),r.regularPrice!==null&&r.regularPrice>0&&e.jsxs("div",{className:"text-2xl text-primary font-sans mb-8",children:[r.regularPrice," MAD ",e.jsx("span",{className:"text-sm text-muted-foreground font-normal",children:"/ m²"})]}),e.jsxs("div",{className:"space-y-6 text-muted-foreground leading-relaxed mb-12 border-t border-border/50 pt-8",children:[e.jsx("p",{children:a("productsPage.desc")}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-1 h-1 bg-primary rounded-full mt-2.5 flex-shrink-0 ${o.language==="ar"?"ml-0 mr-1":""}`}),e.jsx("span",{children:a("contactPage.whyItems.1",{defaultValue:"Matériau 100% naturel"})})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-1 h-1 bg-primary rounded-full mt-2.5 flex-shrink-0 ${o.language==="ar"?"ml-0 mr-1":""}`}),e.jsx("span",{children:a("contactPage.whyItems.2",{defaultValue:"Finitions personnalisées sur-mesure"})})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-1 h-1 bg-primary rounded-full mt-2.5 flex-shrink-0 ${o.language==="ar"?"ml-0 mr-1":""}`}),e.jsx("span",{children:a("contactPage.whyItems.3",{defaultValue:"Garantie de qualité supérieure"})})]})]})]}),e.jsxs("div",{className:"bg-secondary/30 p-6 md:p-8 border border-border/50",children:[e.jsxs("h3",{className:"font-serif text-2xl text-foreground mb-6 flex items-center gap-3",children:[e.jsx($,{className:"w-6 h-6 text-[#25D366]"}),a("productDetail.formTitle")]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"clientName",className:"text-xs uppercase tracking-widest text-muted-foreground",children:a("productDetail.formName")}),e.jsx(g,{id:"clientName",required:!0,placeholder:a("productDetail.formNamePlaceholder"),className:"rounded-none border-border/50 bg-background",value:t.clientName,onChange:s=>d({...t,clientName:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"clientPhone",className:"text-xs uppercase tracking-widest text-muted-foreground",children:a("productDetail.formPhone")}),e.jsx(g,{id:"clientPhone",required:!0,type:"tel",placeholder:a("productDetail.formPhonePlaceholder"),className:"rounded-none border-border/50 bg-background text-left",dir:"ltr",value:t.clientPhone,onChange:s=>d({...t,clientPhone:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"message",className:"text-xs uppercase tracking-widest text-muted-foreground",children:a("productDetail.formMsg")}),e.jsx(k,{id:"message",placeholder:a("productDetail.formMsgPlaceholder"),className:"rounded-none border-border/50 bg-background resize-none min-h-[100px]",value:t.message,onChange:s=>d({...t,message:s.target.value})})]}),e.jsx(x,{type:"submit",className:"w-full bg-[#25D366] hover:bg-[#20bd5a] text-white rounded-none px-8 py-6 text-xs uppercase tracking-widest mt-4",children:a("productDetail.formBtn")})]})]})]})]})]})]}):e.jsxs("div",{className:"min-h-screen pt-32 flex flex-col justify-center items-center bg-background text-center",children:[e.jsx("h1",{className:"text-3xl font-serif text-foreground mb-4",children:a("productsPage.empty")||"Product not found"}),e.jsx(p,{to:"/produits",children:e.jsx(x,{variant:"outline",className:"rounded-none uppercase tracking-widest text-xs",children:a("navbar.products")||"Return to Products"})})]})};export{q as default};
