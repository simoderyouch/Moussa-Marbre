import{j as e}from"./vendor-motion-BOFb5L5T.js";import{r as s,L as p}from"./vendor-react-DPXIlxAS.js";import{S as u,L as h,B as j,A as f}from"./index-DrV42QqX.js";import{u as b}from"./vendor-i18n-ClLKQ7LB.js";import"./vendor-ui-B534AxuN.js";const k=()=>{const[o,d]=s.useState("TOUS"),[a,x]=s.useState([]),[m,n]=s.useState(!0),{t:r,i18n:i}=b();s.useEffect(()=>{fetch("/api/projects").then(t=>t.json()).then(t=>{x(t),n(!1)}).catch(t=>{console.error("Failed to load projects:",t),n(!1)})},[]);const g=s.useMemo(()=>{const t=new Set;return a.forEach(c=>{c.category?.name&&t.add(c.category.name)}),["TOUS",...Array.from(t)]},[a]),l=o==="TOUS"?a:a.filter(t=>t.category?.name===o);return e.jsxs("div",{dir:i.language==="ar"?"rtl":"ltr",children:[e.jsx(u,{title:`${r("projectsPage.title1")} ${r("projectsPage.title2")} | Moussa Marbre`,description:"Découvrez nos projets inspirants en marbre et pierre naturelle répartis dans tout le Maroc. Plus de 80 réalisations haut de gamme : plans de travail, escaliers, façades et plus.",keywords:"projets marbre maroc, réalisations pierre naturelle, installation granit, Moussa Marbre projets",url:"https://moussamarbre.com/#/projets"}),e.jsx("section",{className:"pt-[12rem] pb-24 bg-background",children:e.jsxs("div",{className:"max-w-7xl text-center mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("h1",{className:"font-sans text-5xl sm:text-6xl text-foreground leading-[1.1] tracking-tight mb-8",children:[r("projectsPage.title1"),e.jsx("span",{className:"italic font-serif text-muted-foreground",children:r("projectsPage.title2")})]}),e.jsx("p",{className:"text-muted-foreground text-lg max-w-4xl mx-auto leading-relaxed",children:r("projectsPage.desc")})]})}),e.jsx("section",{className:"py-6 pt-11 bg-background border-b border-border sticky top-20 z-30",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center gap-6 overflow-x-auto scrollbar-hide",children:g.map(t=>e.jsx("button",{onClick:()=>d(t),className:`pb-2 text-xs uppercase tracking-widest whitespace-nowrap transition-colors border-b-2 ${o===t?"border-primary text-foreground font-semibold":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:t==="TOUS"?r("projectsPage.all"):t},t))})})}),e.jsx("section",{className:"py-24 bg-background min-h-[50vh]",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(h,{className:"w-8 h-8 animate-spin text-foreground/50"})}):l.length===0?e.jsx("div",{className:"text-center text-muted-foreground py-20",children:r("projectsPage.empty")}):e.jsx("div",{className:"grid md:grid-cols-2 gap-12",children:l.map(t=>e.jsxs("div",{className:"group cursor-pointer",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-none aspect-[1/1] mb-6 bg-muted",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 ease-in-out",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-foreground/0 group-hover:bg-foreground/10 transition-colors duration-500"})]}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground uppercase tracking-widest mb-3",children:e.jsx("span",{className:"font-medium text-foreground",children:t.category?.name||r("projectsPage.general")})}),e.jsx("h3",{className:"font-serif text-3xl text-foreground mb-4 group-hover:text-muted-foreground transition-colors",children:t.title})]},t.id))})})}),e.jsx("section",{className:"py-32 bg-secondary",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"font-serif text-4xl sm:text-5xl text-foreground leading-[1.1] tracking-tight mb-8",children:r("projectsPage.ctaTitle")}),e.jsx("p",{className:"text-muted-foreground text-lg leading-relaxed mb-12",children:r("projectsPage.ctaDesc")}),e.jsx(p,{to:"/contact",children:e.jsxs(j,{className:"bg-primary hover:bg-primary/90 text-primary-foreground rounded-none px-8 py-6 text-xs uppercase tracking-widest",children:[r("projectsPage.ctaBtn"),e.jsx(f,{className:`w-4 h-4 ${i.language==="ar"?"mr-2 rotate-180":"ml-2"}`})]})})]})})]})};export{k as default};
